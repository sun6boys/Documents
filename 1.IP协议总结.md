http://blog.csdn.net/snsn1984/article/details/8037414

https://www.cnblogs.com/way_testlife/archive/2010/10/05/1844280.html

https://www.zhihu.com/question/21064101

路由表的设计
http://blog.csdn.net/lnboxue/article/details/52220928

ARP广播
https://www.ibm.com/developerworks/cn/linux/l-arp/


# IP协议总结

## 1、什么是IP协议
Internet Protocol应用于OSI参考模型中网络层，主要应用于在相互连接的网络之间传递IP数据包。

## 2、基础概念

### 2.1 IP地址
接入互联网的每一个主机（或路由器）的每一个接口会分配一个在全世界范围的唯一的32位二进制标示符（IPV4）**IPV6是128位，下面叙述只针对IPV4**

例如：`11010010010010011000110000000010 `
为了方便理解和记忆把地址分成4段，每段是8位，中间以小数点隔开。

变成这样：`11010010.01001001.10001100.00000010`
显然这样也不太容易记住，于是将每段中的八位二进制转成十进制

最终是这样：`210.73.140.2`



### 2.2 网络号/主机号
为了方便IP地址的管理以及解决IP地址分配捉襟见肘的问题，每个IP地址分成**网络号**和**主机号**。

- **网络号**表示主机（或路由器）所以链接的网络，一个网络号在整个因特网范围内是唯一的。
- **主机号**表示该网络段的某一台主机或者路由器编号，在该网络段内它也是唯一的。

以32位二进制Ip地址为例`11010010010010011000110000000010`

如果前8位是网络号，那后面剩下的24位为主机号。又或者前24位是网络号那后面8位是主机号。一个IP地址除去前面的网络号，后面剩下的都是主机号。

不同的网段的网络号不一样，不同的IP地址前面多少位是网络号也不一定是一样的。

那如何知道一个IP地址的网络号是多少（或者说前多少位是网络号），这里就要涉及到子网掩码。

### 2.3 子网掩码
经常配置网络子网掩码的同学，一定对**255.255.255.0**特别熟悉，这里就以**255.255.255.0**为例，将它转成二进制 `11111111 11111111 11111111 00000000`该子网掩码经转换后就是24个1，加8个0，代表着IP地址前24位代表网络号后8位代表主机号。

有些IP地址会用（*nix表示法），比如`192.9.200.13/24`代表 **192.9.200.13**前24位是网络号 和子网掩码**255.255.255.0**意思一致。

###### 如何计算网络地址？这里用到与运算
例如IP地址为：**202.99.160.50** 子网掩码是**255.255.255.0**，步骤如下

1）将**202.99.160.50**转换成二进制  11001010 01100011 10100000 00110010

2) 将**255.255.255.0** 转换成二进制  11111111 11111111 11111111 11111111

3) 将二者与运算

   11001010 01100011 10100000 00110010
   
   11111111 11111111 11111111 00000000
   
   -----------与运算----------------------------------
   
   11001010 01100011 10100000 00000000   转换成十进制就是202.99.160.0，这就是网络号
   
 



### 端口号

### 路由表